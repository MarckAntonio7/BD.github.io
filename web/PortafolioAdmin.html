<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="UplaF.ico" type="image/x-icon">
    <title>Portafolio Admin - Mi Portafolio</title>
    <style>
        /* Estilos generales */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: #0a0a0a;
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Cabecera */
        
header {
    background: #161b22;
    padding: 15px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: fixed;        /* Cambiado de sticky a fixed para que siempre se mantenga visible */
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    border-bottom: 1px solid #30363d;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
}

/* Contenedor del logo + título */
.logo-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

/* Imagen del logo (puedes reemplazarla por tu propia ruta) */
.logo {
    width: 60px;
    height: 60px;
    object-fit: contain;
    
}

/* Título */
header h1 {
    font-size: 1.5rem;
    color: #ffffff;
    margin: 0;
}

/* Navegación */
nav ul {
    list-style: none;
    display: flex;
    gap: 20px;
    margin: 0;
    padding: 0;
}

nav ul li a {
    text-decoration: none;
    color: #e0e0e0;
    font-weight: 500;
    transition: color 0.3s ease;
}

nav ul li a:hover {
    color: #58a6ff;
}

/* Espacio superior para que el contenido no quede debajo del header fijo */
body {
    margin: 0;
    padding-top: 90px; /* ajusta según el tamaño del header */
    font-family: Arial, sans-serif;
}
        /* Contenido principal */
        main {
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        .titulo-seccion {
            text-align: center;
            color: #4682B4;
            margin-bottom: 2rem;
            font-size: 2.5rem;
        }

        .barra-admin {
            background: linear-gradient(135deg, #4682B4, #3a6a94);
            padding: 1rem 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .boton-admin {
            background-color: #1a1a2e;
            color: #e0e0e0;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .boton-admin:hover {
            background-color: #4682B4;
        }

        /* Sección de carpetas */
        .carpetas {
            margin-bottom: 3rem;
        }

        .grid-carpetas {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
        }

        .carpeta {
            background-color: #1a1a2e;
            border: 2px solid #4682B4;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .carpeta:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(70, 130, 180, 0.4);
        }

        .carpeta i {
            font-size: 3rem;
            color: #4682B4;
            margin-bottom: 0.5rem;
        }

        .carpeta p {
            font-weight: bold;
        }

        .badge-editar {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #4682B4;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.7rem;
        }

        /* Modal/Ventana emergente */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-contenido {
            background-color: #1a1a2e;
            border: 2px solid #4682B4;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
        }

        .cerrar-modal {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: #e0e0e0;
            cursor: pointer;
            transition: color 0.3s;
        }

        .cerrar-modal:hover {
            color: #4682B4;
        }

        .modal-titulo {
            color: #4682B4;
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }

        .grupo-edicion {
            margin-bottom: 1.5rem;
        }

        .grupo-edicion label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #e0e0e0;
        }

        .grupo-edicion input, .grupo-edicion textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #4682B4;
            border-radius: 5px;
            background-color: #0a0a0a;
            color: #e0e0e0;
            font-size: 1rem;
        }

        .grupo-edicion textarea {
            min-height: 100px;
            resize: vertical;
        }

        .botones-edicion {
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .boton-guardar {
            background-color: #2e8b57;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .boton-guardar:hover {
            background-color: #3cb371;
        }

        .boton-cancelar {
            background-color: #b22222;
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .boton-cancelar:hover {
            background-color: #cd5c5c;
        }

        /* Pie de página */
        footer {
            background-color: #1a1a2e;
            padding: 1.5rem 0;
            text-align: center;
            border-top: 2px solid #4682B4;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .grid-carpetas {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .grid-carpetas {
                grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            }
            
            .barra-admin {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav ul li {
                margin: 0.5rem 0;
            }
        }

        @media (max-width: 480px) {
            .grid-carpetas {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Cabecera -->
    <header>
    <div class="logo-container">
        <img src="UplaF.png" alt="Logo de la empresa" class="logo">
        <h1>Mi Portafolio</h1>
    </div>
    <nav>
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="Portafolio.html">Portafolio</a></li>
            <li><a href="Sobre_mi.html">Sobre mí</a></li>
            <li><a href="Contacto.html">Contáctame</a></li>
            <li><a href="Login.html">Iniciar Sesión</a></li>
        </ul>
    </nav>
</header>

    <main>
        <h1 class="titulo-seccion">Mis Proyectos - Edición</h1>
        
        <div class="barra-admin">
            <h3>Panel de Administración</h3>
            <button class="boton-admin" onclick="exportarDatos()">Exportar Datos</button>
        </div>

        <section class="carpetas">
            <div class="grid-carpetas" id="gridCarpetas">
                <!-- Las carpetas se generarán dinámicamente con JavaScript -->
            </div>
        </section>
    </main>

    <!-- Modal para editar contenido -->
    <div class="modal" id="modalEdicion">
        <div class="modal-contenido">
            <span class="cerrar-modal" onclick="cerrarModal()">&times;</span>
            <h2 class="modal-titulo">Editar Proyecto</h2>
            <form id="formEdicion">
                <input type="hidden" id="carpetaId">
                
                <div class="grupo-edicion">
                    <label for="tituloProyecto">Título del Proyecto:</label>
                    <input type="text" id="tituloProyecto" required>
                </div>
                
                <div class="grupo-edicion">
                    <label for="enlaceProyecto">Enlace (URL):</label>
                    <input type="url" id="enlaceProyecto" placeholder="https://...">
                </div>
                
                <div class="grupo-edicion">
                    <label for="descripcionProyecto">Descripción:</label>
                    <textarea id="descripcionProyecto" required placeholder="Describe el proyecto..."></textarea>
                </div>
                
                <div class="botones-edicion">
                    <button type="button" class="boton-cancelar" onclick="cerrarModal()">Cancelar</button>
                    <button type="submit" class="boton-guardar">Guardar Cambios</button>
                </div>
            </form>
        </div>
    </div>

    <footer>
        <p>© 2025 Mi Portafolio | Estudiante de Ingeniería de Sistemas y Computación</p>
    </footer>

    <script>
        // Datos de los proyectos (se cargan desde localStorage)
        let proyectos = [];

        // Cargar datos al iniciar
        document.addEventListener('DOMContentLoaded', function() {
            cargarProyectos();
            generarCarpetas();
            
            // Configurar formulario de edición
            document.getElementById('formEdicion').addEventListener('submit', function(e) {
                e.preventDefault();
                guardarCambios();
            });
        });

        // Cargar proyectos desde localStorage
        function cargarProyectos() {
            const datosGuardados = localStorage.getItem('proyectosPortafolio');
            if (datosGuardados) {
                proyectos = JSON.parse(datosGuardados);
            } else {
                // Datos por defecto
                proyectos = [
                    { id: 1, titulo: "Proyecto 1", descripcion: "Descripción del proyecto 1", enlace: "" },
                    { id: 2, titulo: "Proyecto 2", descripcion: "Descripción del proyecto 2", enlace: "" },
                    { id: 3, titulo: "Proyecto 3", descripcion: "Descripción del proyecto 3", enlace: "" },
                    { id: 4, titulo: "Proyecto 4", descripcion: "Descripción del proyecto 4", enlace: "" },
                    { id: 5, titulo: "Proyecto 5", descripcion: "Descripción del proyecto 5", enlace: "" },
                    { id: 6, titulo: "Proyecto 6", descripcion: "Descripción del proyecto 6", enlace: "" },
                    { id: 7, titulo: "Proyecto 7", descripcion: "Descripción del proyecto 7", enlace: "" },
                    { id: 8, titulo: "Proyecto 8", descripcion: "Descripción del proyecto 8", enlace: "" },
                    { id: 9, titulo: "Proyecto 9", descripcion: "Descripción del proyecto 9", enlace: "" },
                    { id: 10, titulo: "Proyecto 10", descripcion: "Descripción del proyecto 10", enlace: "" },
                    { id: 11, titulo: "Proyecto 11", descripcion: "Descripción del proyecto 11", enlace: "" },
                    { id: 12, titulo: "Proyecto 12", descripcion: "Descripción del proyecto 12", enlace: "" },
                    { id: 13, titulo: "Proyecto 13", descripcion: "Descripción del proyecto 13", enlace: "" },
                    { id: 14, titulo: "Proyecto 14", descripcion: "Descripción del proyecto 14", enlace: "" },
                    { id: 15, titulo: "Proyecto 15", descripcion: "Descripción del proyecto 15", enlace: "" },
                    { id: 16, titulo: "Proyecto 16", descripcion: "Descripción del proyecto 16", enlace: "" }
                ];
                guardarProyectos();
            }
        }

        // Guardar proyectos en localStorage
        function guardarProyectos() {
            localStorage.setItem('proyectosPortafolio', JSON.stringify(proyectos));
        }

        // Generar las carpetas en el grid
        function generarCarpetas() {
            const grid = document.getElementById('gridCarpetas');
            grid.innerHTML = '';
            
            proyectos.forEach(proyecto => {
                const carpeta = document.createElement('div');
                carpeta.className = 'carpeta';
                carpeta.setAttribute('data-id', proyecto.id);
                carpeta.innerHTML = `
                    <i class="fas fa-folder"></i>
                    <p>${proyecto.titulo}</p>
                    <span class="badge-editar">Editar</span>
                `;
                carpeta.addEventListener('click', () => abrirModalEdicion(proyecto.id));
                grid.appendChild(carpeta);
            });
        }

        // Abrir modal de edición
        function abrirModalEdicion(id) {
            const proyecto = proyectos.find(p => p.id === id);
            if (proyecto) {
                document.getElementById('carpetaId').value = proyecto.id;
                document.getElementById('tituloProyecto').value = proyecto.titulo;
                document.getElementById('enlaceProyecto').value = proyecto.enlace || '';
                document.getElementById('descripcionProyecto').value = proyecto.descripcion;
                document.getElementById('modalEdicion').style.display = 'flex';
            }
        }

        // Cerrar modal
        function cerrarModal() {
            document.getElementById('modalEdicion').style.display = 'none';
        }

        // Guardar cambios del proyecto
        function guardarCambios() {
            const id = parseInt(document.getElementById('carpetaId').value);
            const titulo = document.getElementById('tituloProyecto').value;
            const enlace = document.getElementById('enlaceProyecto').value;
            const descripcion = document.getElementById('descripcionProyecto').value;
            
            const proyectoIndex = proyectos.findIndex(p => p.id === id);
            if (proyectoIndex !== -1) {
                proyectos[proyectoIndex] = {
                    ...proyectos[proyectoIndex],
                    titulo,
                    enlace,
                    descripcion
                };
                
                guardarProyectos();
                generarCarpetas();
                cerrarModal();
                
                alert('Cambios guardados correctamente');
            }
        }

        // Exportar datos (para backup)
        function exportarDatos() {
            const datos = JSON.stringify(proyectos, null, 2);
            const blob = new Blob([datos], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'proyectos-portafolio.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Cerrar modal si se hace clic fuera del contenido
        window.addEventListener('click', function(event) {
            const modal = document.getElementById('modalEdicion');
            if (event.target === modal) {
                cerrarModal();
            }
        });
    </script>
</body>
</html>